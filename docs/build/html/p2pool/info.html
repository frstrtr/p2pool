

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Information &mdash;
 P2Pool 34.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../',
              VERSION:'34.0',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };

      </script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="P2Pool Code Documentaion" href="engine/info.html" />
    <link rel="prev" title="&lt;
no title&gt;
" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> P2Pool
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Information</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#payout-logic">Payout logic</a></li>
<li class="toctree-l3"><a class="reference internal" href="#stales">Stales</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#joining-the-pool">Joining the pool</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#frequently-asked-questions">Frequently Asked Questions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miners">Miners</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#tips-to-configure-bfgminer-to-reduce-stale-doa">Tips to configure bfgminer to reduce stale/doa:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#useful-features">Useful features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#web-interface">Web interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="#option-reference">Option Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#interoperability-table">Interoperability table</a></li>
<li class="toctree-l2"><a class="reference internal" href="#protocol-description">Protocol description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#history">History</a></li>
<li class="toctree-l2"><a class="reference internal" href="#donating-to-p2pool-miners">Donating to P2Pool miners</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="engine/info.html">P2Pool Code Documentaion</a></li>
<li class="toctree-l1"><a class="reference internal" href="utildoc/info.html">Util</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">P2Pool</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;
</li>
        
      <li>Information</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/p2pool/info.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="information">
<h1>Information<a class="headerlink" href="#information" title="Permalink to this headline">¶</a></h1>
<p>P2Pool is a decentralized Bitcoin mining pool that works by creating a peer-to-peer network of miner nodes.</p>
<blockquote>
<div><p>P2Pool creates a new block chain in which the difficulty is adjusted so a new block is found every 30 seconds. The blocks that get into the P2Pool block chain (called the &quot;
share chain&quot;
) are the same blocks that would get into the Bitcoin block chain, only they have a lower difficulty target. Whenever a peer announces a new share found (new block in the P2Pool block chain), it is received by the other peers, and the other peers verify that this block contains payouts for all the previous miners who found a share (and announced it) that made it into the P2Pool share chain. This continues until some peer finds a block that has a difficulty that meets the Bitcoin network's difficulty target. This peer announces this block to the Bitcoin network and miners who have submitted shares for this block are paid in the generation transaction, proportionally to how many shares they have found in the last while.</p>
<p class="attribution">&mdash;
Unknown author</p>
</div></blockquote>
<p>Decentralized payout pooling solves the problem of centralized mining pools degrading the decentralization of Bitcoin and avoids the risk of hard to detect theft by pool operators.</p>
<p>Miners are configured to connect to a P2Pool node that can be run locally, alongside the miner. P2Pool users must run a full Bitcoin node which serves the purpose of independently validating transactions and the Bitcoin blockchain. P2Pool also supports merged mining and several alternative blockchains.</p>
<p>P2Pool nodes work on a chain of shares similar to Bitcoin's blockchain. Each node works on a block that includes payouts to the previous shares' owners and the node itself, which can also result in a share if it meets P2Pool's difficulty.</p>
<p>Because of the importance of strengthening Bitcoin's decentralization, some Bitcoin supporters donate to P2Pool miners, resulting in average returns above 100% of the expected reward. However, it should be noted that there are other pools (such as BitPenny and Eligius) which can provide this same level of decentralization.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>P2Pool shares form a &quot;
sharechain&quot;
 with each share referencing the previous share's hash. Each share contains a standard Bitcoin block header, some P2Pool-specific data that is used to compute the generation transaction (total subsidy, payout script of this share, a nonce, the previous share's hash, and the current target for shares), and a Merkle branch linking that generation transaction to the block header's Merkle hash.</p>
<p>The chain continuously regulates its target to keep generation around one share every thirty seconds, just as Bitcoin regulates it to generate one block every ten minutes. This means that finding shares becomes more difficult (resulting in higher variance) the more people mine on P2Pool, though large miners have the option to raise their difficulty, and so reduce the impact of their mining on P2Pool's minimum difficulty.</p>
<p>Unlike Bitcoin, nodes do not know the entire chain - instead they only hold the last 8640 shares (the last 3 day's worth). In order to prevent an attacker from working on a chain in secret and then releasing it, overriding the existing chain, chains are judged by how much work they have since a point in the past. To ascertain that the work has been done since that point, nodes look at the Bitcoin blocks that the shares reference, establishing a provable timestamp. (If a share points to a block, it was definitely made after that block was made.)</p>
<div class="section" id="payout-logic">
<h3>Payout logic<a class="headerlink" href="#payout-logic" title="Permalink to this headline">¶</a></h3>
<p>Each share contains a generation transaction that pays to the previous n shares, where n is the number of shares whose total work is equal to 3 times the average work required to solve a block, or 8640 (= 72 hours of shares), whichever is smaller. Payouts are weighted based on the amount of work each share took to solve, which is proportional to the p2pool difficulty at that time.</p>
<p>The block reward (currently 12.5BTC) and the transaction fees are combined and apportioned according to these rules:</p>
<p>A subsidy of 0.5% is sent to the node that solved the block in order to discourage not sharing solutions that qualify as a block. (A miner with the aim to harm others could withhold the block, thereby preventing anybody from getting paid. He can NOT redirect the payout to himself.) The remaining 99.5% is distributed evenly to miners based on work done recently.</p>
<p>In the event that a share qualifies as a block, this generation transaction is exposed to the Bitcoin network and takes effect, transferring each node its payout.</p>
</div>
<div class="section" id="stales">
<h3>Stales<a class="headerlink" href="#stales" title="Permalink to this headline">¶</a></h3>
<p>On P2Pool stales refer to shares which can't make it into the sharechain. Because the sharechain is 20 times faster than the Bitcoin chain many stales are common and expected. However, because the payout is PPLNS only your stale rate relative to other nodes is relevant;
 the absolute rate is not.</p>
<p>There are two reported kinds of stales in P2Pool: &quot;
DEAD ON ARRIVAL&quot;
 shares and orphan shares. Dead shares were too old by the time they arrived at your local P2Pool. Very high dead rates can indicate miner misconfiguration. Orphan shares are shares which were not extended by the rest of the P2Pool network, because some other miner's share was accepted first. Very high orphan rates may indicate network connectivity problems.</p>
<p>The P2Pool console output shows your relative stale rate compared to other P2Pool miners in the 'Own efficiency' column:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>2012-01-07 20:57:51.797420 Pool stales: 13% Own: 13±2% Own efficiency: 100±2%
</pre></div>
</div>
<p>When you first start P2Pool claimed efficiency will be low and the error bounds on this estimate will be large, but as it runs the numbers will converge to their correct values.</p>
<p>If your efficiency is unusually low, make sure your network connection isn't overloaded, that your miners support long polling and are not set to work for excessive amounts of time, and that your bitcoind has multiple connections.</p>
</div>
</div>
<div class="section" id="joining-the-pool">
<h2>Joining the pool<a class="headerlink" href="#joining-the-pool" title="Permalink to this headline">¶</a></h2>
<p>Follow these steps to join the pool:</p>
<ul>
<li><p class="first">Run Bitcoin with the RPC interface enabled: edit bitcoin.conf to include:</p>
<blockquote>
<div><p>rpcuser=USER
rpcpassword=LONG_RANDOM_SECRET_VALUE
server=1</p>
</div></blockquote>
</li>
<li><ul class="first simple">
<li>Replace LONG_RANDOM_SECRET_VALUE with something long and random like the output of smashing your keyboard for a bit like fju4M78yAj3ds39pak92raK. You don't need to be able to remember it. If your RPC port becomes exposed to the internet a thief could steal your bitcoin if they could guess it, or use a brute force attack in order to find it.
Bitcoin 0.8.5 or later is required</li>
</ul>
</li>
<li><p class="first">It's important that your Bitcoin client be fully synchronized before starting. It's also better if you have the Bitcoin port forwarded</p>
</li>
<li><dl class="first docutils">
<dt>Download p2pool:</dt>
<dd><dl class="first last docutils">
<dt>Windows binary: See <a class="reference external" href="http://bitcointalk.org/index.php?topic=18313.0">http://bitcointalk.org/index.php?topic=18313.0</a></dt>
<dd><p class="first last">Source download: <a class="reference external" href="https://github.com/forrestv/p2pool/tags">https://github.com/forrestv/p2pool/tags</a>
git: git clone git://github.com/forrestv/p2pool.git</p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Run p2pool: (See below for additional options.)</dt>
<dd><p class="first last">Windows py2exe: run_p2pool.exe
Source: python run_p2pool.py</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Run a miner daemon with long polling connecting to 127.0.0.1 (or the IP of the host running p2pool if it isn't on the same computer as the miner) on port 9332 with any username and password</dt>
<dd><div class="first last highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bfgminer</span> <span class="o">-</span><span class="n">O</span> <span class="n">u</span><span class="p">:</span><span class="n">p</span> <span class="o">-</span><span class="n">o</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">9332</span><span class="o">/</span> <span class="o">--</span><span class="n">submit</span><span class="o">-</span><span class="n">stale</span>
</pre></div>
</div>
</dd>
</dl>
</li>
<li><p class="first">Subscribe to the P2Pool notifications mailing list for urgent pool status updates</p>
</li>
</ul>
<p>Dependencies if running from source:</p>
<blockquote>
<div><ul class="simple">
<li>Python 2.6 or higher (but not 3.x)</li>
<li>python-argparse</li>
<li>Twisted (Ubuntu package python-twisted)</li>
</ul>
</div></blockquote>
<div class="section" id="frequently-asked-questions">
<h3>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Q</span><span class="p">:</span> <span class="s2">&quot;
Why does my miner report so many longpoll events when mining on p2pool? - P4Man&quot;
</span>
<span class="n">A</span><span class="p">:</span> <span class="s2">&quot;
Once every ~30 seconds is normal. That is how often p2pool shares are generated (as opposed to ~10 min for bitcoin blocks) - cabin&quot;
</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Q</span><span class="p">:</span> <span class="s2">&quot;
Do the &#39;
orphan&#39;
 and &#39;
dead&#39;
 shares in P2Pool&#39;
s status display hurt me?&quot;
</span>
<span class="n">A</span><span class="p">:</span> <span class="n">They</span> <span class="n">shouldn</span><span class="s1">&#39;
t - It&#39;
</span><span class="n">s</span> <span class="n">normal</span> <span class="k">for</span> <span class="n">some</span> <span class="n">fraction</span> <span class="n">of</span> <span class="n">everyone</span><span class="s1">&#39;
s shares to end up orphaned or dead. Because payouts are calculated by counting how many shares you have relative to others, everyone with normal configurations is equally &quot;
hurt&quot;
 by this. However, if you have a large proportion of stales, your payout will be hurt. You can see how well you&#39;
</span><span class="n">re</span> <span class="n">doing</span> <span class="n">by</span> <span class="n">looking</span> <span class="n">at</span> <span class="n">P2Pool</span><span class="s1">&#39;
s &quot;
Efficiency&quot;
 (ex: Efficiency: ~110.6% (40-111%)). If 100</span><span class="si">% d</span><span class="s1">oesn&#39;
</span><span class="n">t</span> <span class="n">lie</span> <span class="n">within</span> <span class="n">the</span> <span class="n">confidence</span> <span class="n">interval</span> <span class="n">at</span> <span class="n">the</span> <span class="n">end</span><span class="p">,</span> <span class="n">something</span> <span class="ow">is</span> <span class="n">probably</span> <span class="n">wrong</span> <span class="p">(</span><span class="k">with</span> <span class="mi">95</span><span class="o">%</span> <span class="n">confidence</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">Q</span><span class="p">:</span> <span class="s2">&quot;
What do I do if my efficiency is low?&quot;
</span>
<span class="n">A</span><span class="p">:</span> <span class="n">Make</span> <span class="n">sure</span> <span class="n">the</span> <span class="n">computers</span> <span class="n">you</span><span class="s1">&#39;
re running P2Pool and the miner on have enough memory and CPU time. If you have a lot of dead shares or the &quot;
Local dead on arrival&quot;
 number is higher than a few percent, that means that something is wrong with your miner. Check to make sure that it is one of the working versions in the Miners section on this page. Lower the intensity or raise the FPS of your miner. If you have a lot of orphan shares, something is wrong with P2Pool&#39;
</span><span class="n">s</span> <span class="n">P2P</span> <span class="n">connection</span><span class="o">.</span> <span class="n">Decrease</span> <span class="n">the</span> <span class="n">load</span> <span class="n">on</span> <span class="n">your</span> <span class="n">internet</span> <span class="n">connection</span> <span class="ow">or</span> <span class="n">enable</span> <span class="n">QoS</span> <span class="p">(</span><span class="n">Quality</span> <span class="n">of</span> <span class="n">Service</span><span class="p">)</span> <span class="n">on</span> <span class="n">your</span> <span class="n">router</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: What is PPLNS?
A: Pay-Per-Last-N-Shares is a payout method that is completely resistant to pool hoppers.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: Why am I not getting very many shares?!
A: The P2Pool difficulty is hundreds of times higher than on other pools. It can take time to get a share. P2Pool displays an estimate of how long you have to wait in the console output.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: Why does my miner say it has found a lot of shares but p2pool say I have only found a few?!
A: The real P2Pool difficulty is hundreds of times higher than on normal pools, but p2pool essentially lies to your miner and tells it to work on relatively easy shares so that it submits shares every few seconds instead of every few hours. P2Pool then ignores any submitted shares that don&#39;
t match the real share difficulty. By doing this, P2Pool can more accurately report your local hash rate and you can see if you are having problems with too many stale shares quickly
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: Why am I getting so many rejects?
A: You&#39;
re using an incompatible miner. See the miners section here, increase your FPS on the miner, decrease the intensity, upgrade your miner, or try a different miner.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: What stops the pool operator or the block finder from stealing a block?
A: A block solution is only worth anything because its hash matches Bitcoin&#39;
s target. Altering anything within the block will change its hash and make it worthless. If you are concerned about the pool operator stealing a block, you should try to inspect the source code of each new version.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: Why does it say &quot;
Generated?&quot;
 I want to spend my coins now!
A: P2Pool includes payouts in generation transactions, which must mature (taking 120 blocks or 20 hours) before they can be spent. The reason for this is that a block could be orphaned, which would make its payout invalid and could reverse transactions.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: Do I get paid transaction fees?
A: Yes. They are split among P2Pool miners.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: What are these payments I&#39;
m getting that aren&#39;
t generated?
A: These are subsidies that people who support the idea of P2Pool send to miners.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: Cool Subsidies sound like an awesome idea! How do I send some BTC to these awesome miners?
A: See end of this page.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: Do I really need the WHOLE blockchain?
A: Yes. Your node needs to be able to independently make decisions about what transactions to mine.
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>Q: How do merged mining payments work?
A: Merged mining is handled entirely by namecoind, so you&#39;
re solo mining and payouts will go into namecoind&#39;
s wallet.
</pre></div>
</div>
</div>
<div class="section" id="miners">
<h3>Miners<a class="headerlink" href="#miners" title="Permalink to this headline">¶</a></h3>
<p>This is all for the latest p2pool version, as it includes several new workarounds.</p>
<p>With all miners, using a HIGH FPS target (100?) or a LOW intensity (8 for bfgminer?) helps a lot with reducing stales.</p>
<ul class="simple">
<li>bfgminer, cgminer, and ufasoft work perfectly without any extra options.</li>
<li>DiabloMiner works fine after commit 3b731b9.</li>
<li>Phoenix works fine after commit a658ef2.</li>
<li>Poclbm works fine after commit 5e994e7.</li>
</ul>
<p>P2Pool uses higher difficulty shares than most centralized pools, so you'll see fewer shares reported. This is normal and doesn't reduce your payments. It's also normal to see longpoll messages once per every ten seconds on average.</p>
<div class="section" id="tips-to-configure-bfgminer-to-reduce-stale-doa">
<h4>Tips to configure bfgminer to reduce stale/doa:<a class="headerlink" href="#tips-to-configure-bfgminer-to-reduce-stale-doa" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>&quot;
gpu-threads&quot;
 : &quot;
1&quot;
, (2 by default)</li>
<li>&quot;
queue&quot;
 : &quot;
0&quot;
, (1 by default)</li>
</ul>
<p>Because of fast longpooling in p2pool it is better not NOT fetch work ahead.</p>
<p>On non-dedicated machines intensity=3 allows normal usage of PC, set it to 7 or more to get full hashrate.</p>
<p>On most cards best is diablo and phatk kernel, looks like poclbm kernel have unstable rate.</p>
</div>
</div>
<div class="section" id="useful-features">
<h3>Useful features<a class="headerlink" href="#useful-features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>If upgrading P2Pool or changing its configuration, you can start another instance of P2Pool in parallel with the first. It will start normally, but realize that the worker and P2P listening ports are busy and keep trying to bind to them in the background. Thus, you can do almost-completely-seamless upgrades of P2Pool.</li>
<li>If you run multiple P2Pool nodes or have trusted friends that run P2Pool, you can use -n to establish a constant extra P2P connection to them.</li>
<li>You can make P2Pool use a configuration file by running run_p2pool.py &#64;
FILENAME, with FILENAME being the path to a file containing the command-line arguments (newlines are ignored) Example:</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">net</span> <span class="n">bitcoin</span>
<span class="o">-</span><span class="n">n</span> <span class="mf">1.2</span><span class="o">.</span><span class="mf">3.4</span>
</pre></div>
</div>
<ul class="simple">
<li>Setting the username of your miner connecting to P2Pool to a Bitcoin address will make it mine to that address instead of the one requested from bitcoind or set by -a</li>
<li>Appending &quot;
/1000&quot;
 to a miner's username will increase the difficulty of producing a P2Pool share to at most 1000. This is useful to large miners because doing this can make it easier for small miners while minimally impacting the large miners themselves. See recommended values.</li>
<li>Appending &quot;
+1&quot;
 (for example) after that will make P2Pool always give your miners work with a difficulty of 1</li>
</ul>
</div>
<div class="section" id="web-interface">
<h3>Web interface<a class="headerlink" href="#web-interface" title="Permalink to this headline">¶</a></h3>
<p>Lots of data and useful tools are available at <a class="reference external" href="http://127.0.0.1:9332/something">http://127.0.0.1:9332/something</a>:</p>
<ul class="simple">
<li>/static/ - Lots of information from shares to graphs to payouts.</li>
<li>/rate</li>
<li>/users</li>
<li>/fee</li>
<li>/current_payouts</li>
<li>/patron_sendmany - Gives sendmany outputs for fair donations to P2Pool</li>
<li>/global_stats</li>
<li>/local_stats</li>
<li>/peer_addresses</li>
<li>/payout_addr</li>
<li>/recent_blocks</li>
<li>/uptime</li>
<li>/web/log - Some different stats collected over the last day</li>
</ul>
</div>
<div class="section" id="option-reference">
<h3>Option Reference<a class="headerlink" href="#option-reference" title="Permalink to this headline">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>usage: run_p2pool.py [-h] [--version] [--net {bitcoin,litecoin}] [--testnet]
                     [--debug] [-a ADDRESS] [--datadir DATADIR]
                     [--logfile LOGFILE] [--merged MERGED_URLS]
                     [--give-author DONATION_PERCENTAGE] [--iocp]
                     [--irc-announce] [--no-bugreport] [--p2pool-port PORT]
                     [-n ADDR[:PORT]] [--disable-upnp] [--max-conns CONNS]
                     [-w PORT or ADDR:PORT] [-f FEE_PERCENTAGE]
                     [--bitcoind-address BITCOIND_ADDRESS]
                     [--bitcoind-rpc-port BITCOIND_RPC_PORT]
                     [--bitcoind-p2p-port BITCOIND_P2P_PORT]
                     [BITCOIND_RPCUSERPASS [BITCOIND_RPCUSERPASS ...]]

p2pool (version 0.11.1-8-ged9359d)

optional arguments:
    -h, --help            show this help message and exit
    --version             show program&#39;
s version number and exit
    --net {bitcoin,litecoin}
                            use specified network (default: bitcoin)
    --testnet             use the network&#39;
s testnet
    --debug               enable debugging mode
    -a ADDRESS, --address ADDRESS
                            generate payouts to this address (default: &lt;
address
                            requested from bitcoind&gt;
)
    --datadir DATADIR     store data in this directory (default: &lt;
directory
                            run_p2pool.py is in&gt;
/data)
    --logfile LOGFILE     log to this file (default: data/&lt;
NET&gt;
/log)
    --merged MERGED_URLS  call getauxblock on this url to get work for merged
                            mining (example:
                            http://ncuser:ncpass@127.0.0.1:10332/)
    --give-author DONATION_PERCENTAGE
                            donate this percentage of work towards the development
                            of p2pool (default: 0.5)
    --iocp                use Windows IOCP API in order to avoid errors due to
                            large number of sockets being open
    --irc-announce        announce any blocks found on
                            irc://irc.freenode.net/#p2pool
    --no-bugreport        disable submitting caught exceptions to the author
    --disable-upnp        don&#39;
t attempt to use UPnP to forward p2pool&#39;
s P2P port
                            from the Internet to this computer

    p2pool interface:
    --p2pool-port PORT    use port PORT to listen for connections (forward this
                            port from your router!) (default: bitcoin:9333,
                            litecoin:9338)
    -n ADDR[:PORT], --p2pool-node ADDR[:PORT]
                            connect to existing p2pool node at ADDR listening on
                            port PORT (defaults to default p2pool P2P port) in
                            addition to builtin addresses
    --max-conns CONNS     maximum incoming connections (default: 40)

    worker interface:
    -w PORT or ADDR:PORT, --worker-port PORT or ADDR:PORT
                            listen on PORT on interface with ADDR for RPC
                            connections from miners (default: all interfaces,
                            bitcoin:9332, litecoin:9327)
    -f FEE_PERCENTAGE, --fee FEE_PERCENTAGE
                            charge workers mining to their own bitcoin address (by
                            setting their miner&#39;
s username to a bitcoin address)
                            this percentage fee to mine on your p2pool instance.
                            Amount displayed at http://127.0.0.1:WORKER_PORT/fee
                            (default: 0)

    bitcoind interface:
    --bitcoind-address BITCOIND_ADDRESS
                            connect to this address (default: 127.0.0.1)
    --bitcoind-rpc-port BITCOIND_RPC_PORT
                            connect to JSON-RPC interface at this port (default:
                            bitcoin:8332, litecoin:9332 &lt;
read from bitcoin.conf if
                            password not provided&gt;
)
    --bitcoind-p2p-port BITCOIND_P2P_PORT
                            connect to P2P interface at this port (default:
                            bitcoin:8333, litecoin:9333 &lt;
read from bitcoin.conf if
                            password not provided&gt;
)
    BITCOIND_RPCUSERPASS  bitcoind RPC interface username, then password, space-
                            separated (only one being provided will cause the
                            username to default to being empty, and none will
                            cause P2Pool to read them from bitcoin.conf)
</pre></div>
</div>
</div>
</div>
<div class="section" id="interoperability-table">
<h2>Interoperability table<a class="headerlink" href="#interoperability-table" title="Permalink to this headline">¶</a></h2>
<p>P2pool works fine with most hardware. This lists some of the hardware confirmed to work and any special configuration required.</p>
<ul class="simple">
<li>ASICminer blade 10GH/s (Requires adding +1 to username or proxy)</li>
<li>Avalon 110nm 60-110 GH/s (All batches)</li>
<li>Avalon based 55nm 200 GH/s (specific makers?)</li>
<li>Avalon prototype 55nm 120GH/s (~ 20 exist)</li>
<li>Icarus FPGA</li>
<li>Bitfury strikes back H-card and M-card (instructions)</li>
<li>Bitmain Antminer S1 180GH/s (Requires 20131226 firmware.)</li>
<li>Bitmain Antminer S3 440GH/s</li>
<li>BFL SC Jalapeno, SC Single 30, 50, &amp;
 60 GH/s</li>
<li>Spondoolies Tech SP 10</li>
<li>Spondoolies Tech SP 30</li>
</ul>
<p>(Various GPU and most FPGAs other than BFL single FPGAs work fine too)</p>
<p>This is a list of hardware with known issues that should not be used on p2pool.</p>
<ul class="simple">
<li>Cointerra Terraminer IV (10-20% hash rate loss when mining on p2pool)</li>
<li>Btimain Antminer S2 (10-20% hash rate loss when mining on p2pool, the S1 &amp;
 S3 both work well on p2pool)</li>
</ul>
</div>
<div class="section" id="protocol-description">
<h2>Protocol description<a class="headerlink" href="#protocol-description" title="Permalink to this headline">¶</a></h2>
<p>P2Pool's protocol mirrors Bitcoin's P2P protocol in many ways. It uses the same framing (prefix, command, length, checksum, payload) and similar commands:</p>
<ul class="simple">
<li>version - sent to establish a connection - contains (version, services, addr_to, addr_from, nonce, sub_version, mode, best_share_hash)</li>
<li>setmode - sent to update the mode sent in the version message - contains (mode)</li>
<li>ping - sent to keep connection alive - contains ()</li>
<li>addrme - request that the receiving node send out an addr for the sending node - contains (port)</li>
<li>addrs - broadcast list of nodes' addresses - contains (addrs)</li>
<li>getaddrs - request that the receiving node send count addrs - contains (count)</li>
<li>getshares - request that the receiving node send the shares referenced by hashes and parents of their parents, stopping at any share referenced by stops - contains (hashes, parents, stops)</li>
<li>shares - broadcast message of the contents of shares - contains (shares)</li>
</ul>
</div>
<div class="section" id="history">
<h2>History<a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h2>
<p>This project was announced on June 17, 2011 by Forrest Voight[1].</p>
<p>The pool began testing against mainnet in mid-July, 2011. The pool was reviewed on a Bitcoin Miner post on July 26, 2011[2].</p>
<p>The software author's address for donations can be found in the signature section of his forum profile.</p>
</div>
<div class="section" id="donating-to-p2pool-miners">
<h2>Donating to P2Pool miners<a class="headerlink" href="#donating-to-p2pool-miners" title="Permalink to this headline">¶</a></h2>
<p>In order to encourage people to mine to P2Pool you can donate to the recent miners in proportion using a sendmany:</p>
<p>For example, a bash script to donate 10 btc is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">src</span><span class="o">/</span><span class="n">bitcoin</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">bitcoind</span> <span class="n">sendmany</span> <span class="s2">&quot;
&quot;
</span> <span class="s2">&quot;
$(GET http://127.0.0.1:9332/patron_sendmany/10)&quot;
</span>
</pre></div>
</div>
<p>You can replace &quot;
&quot;
 with &quot;
accountname&quot;
 if you want to pay from some specific bitcoind account, and you need to replace 127.0.0.1 with the address of your P2Pool node if you're not running one locally.</p>
<p>Note that the amount you donate will be allocated to recent miners in proportion to the amount of work they've done in the last 24 hours or so, but all the miner whose shares of the donated amount are less than 0.01 BTC will have their shares combined into a single amount which is awarded to one of them at random, with the chance of winning this 'lottery' weighted by the miner's recent amount of work done. You can change this 0.01 BTC threshold like this, for example, which says to pay 10 BTC, but to share it amongst more miners that the default, cutting off at 0.001 BTC instead of at 0.01 BTC.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">~/</span><span class="n">src</span><span class="o">/</span><span class="n">bitcoin</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">bitcoind</span> <span class="n">sendmany</span> <span class="s2">&quot;
&quot;
</span> <span class="s2">&quot;
$(GET http://127.0.0.1:9332/patron_sendmany/10/0.001)&quot;
</span>
</pre></div>
</div>
<p>If you decide to donate you should announce it on the forums so that your donations provide the most incentive possible.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="engine/info.html" class="btn btn-neutral float-right" title="P2Pool Code Documentaion" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="&lt;
no title&gt;
" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy;
 Copyright 2019, frstrtr

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);

      });

  </script>

  
  
    
   

</body>
</html>